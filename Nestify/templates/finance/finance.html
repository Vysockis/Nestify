{% extends "master.html" %}

{% load static %}

{% block title %}
Finance | Nestify
{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/finance.css' %}">
{% endblock %}

{% block content %}
<main class="container finance-container">
    <div class="finance-page main-box">
        <!-- Header Section -->
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <h1>Financai</h1>
                <h3>Finansų valdymas ir analizė</h3>
            </div>
            <button id="addFinanceBtn" class="circle-btn">+</button>
        </div>
        
        <!-- Date Selection Section -->
        <div class="date-selection">
            <label>Pradžios data:</label>
            <input type="month" id="start-date">
            <label>Pabaigos data:</label>
            <input type="month" id="end-date">
            <button id="refreshFinanceBtn" class="btn btn-sm btn-secondary">Atnaujinti</button>
        </div>
        
        <!-- Charts Section - Both charts in one row -->
        <section class="charts-section">
            <div class="charts-container">
                <div class="chart-box">
                    <h3>Finansai pagal mėnesį</h3>
                    <div class="chart-wrapper">
                        <canvas id="financeChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-box">
                    <h3>Išlaidos pagal kategoriją</h3>
                    <div class="chart-wrapper">
                        <canvas id="categoryChart"></canvas>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Operations List Section -->
        <section class="operations-section">
            <div class="operations-list">
                <h3>Operacijos pagal pasirinktą laikotarpį</h3>
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Data</th>
                                <th>Kategorija</th>
                                <th>Suma</th>
                            </tr>
                        </thead>
                        <tbody id="operations-table">
                            <!-- Table rows will be added dynamically via JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </div>
</main>
{% endblock %}

{% block outter_content %}
{% include "utils/form.html" %}
{% endblock %}

{% block javascript %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'js/finance/finance.js' %}"></script>
{% endblock %} 